<html lang="{{ site.lang | default: "en-US" }}"`>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <link rel="stylesheet" href="metaug_js/tf.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">


    </head>

<body>


<div>Enter string to be formatted:</div>

<textarea id="inputarea" cols="30" rows="5"></textarea>

<button onclick="format_text()">Format</button>

<div><b>Formatted prompt:</b></div>

<div id="formattedprompt"></div>

<br>
<div><b>Formatted generation:</b></div>

<div id="formattedgeneration"></div>


<script>

function score2color(score) {
	if (score == 1) {
		return "purple";
	} else if (score == 2) {
		return "lightblue";
	} else if (score == 3) {
		return "lightgreen";
	} else if (score == 4) {
		return "yellow";
	} else if (score == 5) {
		return "orange";
	} else {
		return "lightcoral";
	}
}

function wordandscore2html(wordandscore) {
	pair = wordandscore.split("/");
	word = pair[0];
	score = parseInt(pair[1]);

	color = score2color(score);

	html_string = "<span style=\"background-color:" + color + "\">" + word + "</span>";
	return html_string;

}


function format_text() {
	to_be_formatted = document.getElementById("inputarea").value;

	words = to_be_formatted.split(" ");

	formatted_words = [];

	for (i = 0; i < words.length; i++) {
		formatted_word = wordandscore2html(words[i]);
		formatted_words.push(formatted_word);
	}

	prompttodisplay = formatted_words.slice(0,512).join(" ");
	gentodisplay = formatted_words.slice(512).join(" ");

	document.getElementById("formattedprompt").innerHTML = prompttodisplay;
	document.getElementById("formattedgeneration").innerHTML = gentodisplay;
}

</script>


</body>



</html>


